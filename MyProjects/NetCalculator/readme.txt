Net Calculator

1. Общее описание
Net Calculator — это графический инструмент для расчета параметров IP-сетей (IPv4),
а также содержит заглушку для IPv6 и таблицу QoS. Программа разработана с использованием библиотеки PyQt5.

2. Структура проекта
project/
├── main.py               # Главный файл для запуска приложения
├── ipv4_calculator.py    # Модуль для расчета параметров IPv4
├── ipv6_calculator.py    # Заглушка для IPv6 (будущее расширение)
├── qos_tab.py            # Модуль для отображения информации о QoS

3. Файл main.py
Описание: Главный файл приложения, который создает интерфейс с тремя вкладками: IPv4, IPv6 и QoS.

Функциональность:

Создание главного окна.
Добавление вкладок (QTabWidget) для IPv4, IPv6 и QoS.
Инициализация классов из других модулей (IPv4Calculator, IPv6Calculator, QoSTab).

Ключевые компоненты:
MainWindow: Класс, наследующийся от QMainWindow. Отвечает за создание интерфейса и добавление вкладок.

4. Файл ipv4_calculator.py
Описание: Модуль для расчета параметров IPv4-сетей.
Включает в себя поля для ввода IP-адреса и маски подсети, а также таблицу результатов.

Функциональность:

- Расчет параметров IPv4-сети (адрес, маска, wildcard, network, broadcast, hostmin, hostmax, количество хостов).
- Возможность ввода IP-адреса в формате IP/mask или выбор маски из выпадающего списка.
- Автоматическая вставка IP-адреса системы при запуске.
- Отображение диапазонов байтов для масок /1–/30.
- Поддержка контекстного меню для копирования данных из таблицы.

Ключевые компоненты:
IPv4Calculator: Класс, наследующийся от QWidget. Отвечает за создание интерфейса и логики расчета.
ipv4_hex: Функция для преобразования IP-адреса в 16-ричный формат.
ipv4_binary: Функция для преобразования IP-адреса в бинарный формат с разделением сетевой и хостовой частей.

Методы класса IPv4Calculator:
__init__: Конструктор класса, инициализирует интерфейс.
init_ui: Настройка пользовательского интерфейса (поля ввода, кнопки, таблица).
calculate_ipv4: Основной метод для расчета параметров IPv4-сети.
show_context_menu: Метод для показа контекстного меню при правом клике на таблице.

5. Файл ipv6_calculator.py
Описание: Заглушка для будущего расширения функциональности до IPv6. Пока что не реализован.

6. Файл qos_tab.py
Описание: Модуль для отображения информации о QoS (Quality of Service).
Содержит таблицу с переводами значений TOS, DSCP, классов сервиса и вероятности выброса пакетов.

AF-классы (Assured Forwarding)
- Каждый AF-класс имеет формат AFxy, где:
  - x — номер класса (1–4).
  - y — уровень надежности (1–3).
- DS Field формируется как (class_num << 3 | drop_prob):
  - class_num сдвигается на 3 бита влево.
  - drop_prob добавляется к последним 3 битам.
- TOS Precedence вычисляется как (class_num - 1) * 8.

Пример:
AF11: (1 << 3 | 1) → 001010 → DS Field Decimal = 10.
AF23: (2 << 3 | 3) → 010110 → DS Field Decimal = 22.

EF (Expedited Forwarding)
- DS Field всегда равно 101110 (декодируется как 46 в десятичном виде).
- TOS Precedence для EF равно 5 * 8 = 40.

BE (Best Effort)
- DS Field всегда равно 000000 (декодируется как 0 в десятичном виде).
- TOS Precedence для BE равно 0.

CS-классы (Class Selector)
- Каждый CS-класс имеет формат CSx, где x — номер класса (0–7).
- DS Field формируется как (class_num << 3):
  - class_num сдвигается на 3 бита влево.
- TOS Precedence вычисляется как class_num * 8.

Пример:
CS0: (0 << 3) → 000000 → DS Field Decimal = 0.
CS7: (7 << 3) → 111000 → DS Field Decimal = 56.