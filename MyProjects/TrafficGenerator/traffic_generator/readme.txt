Документация к программе Traffic Generator v3.0

Оглавление
1. Описание программы
2. Структура проекта
    - Файл main.py
    - Файл app.py
    - Файл generator.py
    - Файл utils.py
    - Файл config.py
3. Настройки программы
    - Параметры трафика
    - Параметры QoS
    - Скорость генерации
4. Ограничения
    - Ограничения на Windows
    - Ограничения переменных
5. FAQ

1. Описание программы

Traffic Generator v3.0 — это программа для генерации сетевого трафика. Она позволяет:
 - Генерировать UDP, TCP и ICMP трафик.
 - Настраивать параметры трафика: тип (unicast, broadcast, multicast), IP-адреса, порты,
   размер пакета, скорость и QoS (DSCP, IP Precedence, ECN).
 - Визуализировать статистику в реальном времени (пакеты в секунду, мегабиты в секунду).
 - Сохранять и загружать конфигурации в формате YAML.

Программа имеет графический интерфейс, созданный с использованием библиотеки PyQt5, и
поддерживает асинхронные операции через qasync.

2. Структура проекта

traffic_generator/
│
├── __init__.py
├── app.py              # Основной файл с классом TrafficGeneratorApp
├── generator.py        # Файл с классом TrafficGenerator
├── utils.py            # Вспомогательные функции
├── config.py           # Функции для сохранения, загрузки и валидации конфигурации
└── main.py             # Точка входа в приложение

3. Настройки программы

Параметры трафика
- Traffic Type: unicast, broadcast, multicast.
- Protocol: UDP, TCP, ICMP.
- Source IP: IP-адрес источника (например, 192.168.1.1).
- Source Port: Порт источника (0-65535).
- Destination IP: IP-адрес назначения (например, 192.168.1.2).
- Destination Port: Порт назначения (0-65535).
- Packet Size: Размер пакета (1-65507 байт).
- Threads: Количество потоков (1-100).
  Параметры QoS
- DSCP: Differentiated Services Code Point (0-63).
- IP Precedence: Приоритет IP (0-7).
- ECN: Explicit Congestion Notification (0-3).
  Скорость генерации
- Speed Mode: kbps, mbps, pps, interval.
- Speed Value: Значение скорости (например, 10 для 10 Mbps).

4. Ограничения
Ограничения на Windows
- Для работы с raw-сокетами (ICMP) требуются права администратора.
- На Windows raw-сокеты не позволяют задать ToS (DSCP) в IP-заголовке при создании собственного IP-заголовка.

Ограничения переменных
- IP-адреса: Должны быть валидными IPv4 адресами.
- Порты: Должны быть в диапазоне 0-65535.
- Размер пакета: Должен быть в диапазоне 1-65507 байт.
- Количество потоков: Должно быть в диапазоне 1-100.

5. FAQ
  1. Что будет, если оставить значение 0.0.0.0 в IP-адресе источника?
- Если оставить значение 0.0.0.0, программа автоматически выберет IP-адрес.

  2. Как изменить скорость генерации трафика?
- Выберите режим скорости (Speed Mode) и укажите значение (Speed Value). Например, для
скорости 10 Mbps выберите режим mbps и введите 10, а также укажите Packet Size 1472 и Threads 12.
Если Packet Size маленький (например, 64 байта), то на 10 Mbps потребуется много пакетов в секунду.
Один поток не справляется с высокой скоростью (send() + time.sleep() + GIL (Global Interpreter Lock)).
12 потоков отправляют больше пакетов, обходя ограничения одного потока.

  4. Как добавить поддержку других протоколов?
- В текущей версии поддерживаются только UDP, TCP и ICMP. Для добавления новых протоколов
необходимо изменить код в файле generator.py.